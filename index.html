<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="generator" content="Hugo 0.14" />

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title> HackerZ - Blog &middot; HackerZ - Blog </title>

  
  <link rel="stylesheet" href="http://hackez.github.io/css/poole.css">
  <link rel="stylesheet" href="http://hackez.github.io/css/syntax.css">
  <link rel="stylesheet" href="http://hackez.github.io/css/hyde.css">
  <link rel="stylesheet" href="http://fonts.useso.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">

  
  <script src="//cdn.bootcss.com/highlight.js/9.2.0/highlight.min.js"></script>
  <script src="//cdn.bootcss.com/highlight.js/9.2.0/languages/go.min.js"></script>
  <link rel="stylesheet" href="//cdn.bootcss.com/highlight.js/9.2.0/styles/monokai_sublime.min.css">
  
  <script>hljs.initHighlightingOnLoad();</script>

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/favicon.png">

  
  <link href="http://hackez.github.io/index.xml" rel="alternate" type="application/rss+xml" title="HackerZ - Blog" />

  
  
  <script type="text/javascript">
  var sc_project=10940566; 
  var sc_invisible=0; 
  var sc_security="89189822"; 
  var scJsHost = (("https:" == document.location.protocol) ?
  "https://secure." : "http://www.");
  document.write("<sc"+"ript type='text/javascript' src='" +
  scJsHost+
  "statcounter.com/counter/counter.js'></"+"script>");
  </script>
  <noscript><div class="statcounter"><a title="web stats"
  href="http://statcounter.com/free-web-stats/"
  target="_blank"><img class="statcounter"
  src="//c.statcounter.com/10940566/0/89189822/0/" alt="web
  stats"></a></div></noscript>
  
</head>

<body class="theme-base-08 ">

<div class="sidebar">
  <div class="container sidebar-sticky">
  <div class="round-head">
    <img style="margin: auto;" src="http://hackez.github.io/author-head.png" alt="HackerZ">
    <p style="text-align: center;">HackerZ</p>
  </div>

    <div class="sidebar-about">
      <a href="http://hackez.github.io/"><h1>HackerZ - Blog</h1></a>
      <p class="lead">
       Welcome to my personal Blog 
      </p>
    </div>

    <ul class="sidebar-nav">
      <li><a href="/">Home</a> </li>
      
        <li><a href="/about-me/"> About Me </a></li>
      
        <li><a href="/welcome/"> Welcome </a></li>
      
        <li><a href="/about/"> Cate </a></li>
      
    </ul>

    <p>&copy; 2016. All rights reserved. </p>
  </div>
</div>


    <div class="content container">
<div class="posts">

      
  <div class="post">
    <h1 class="post-title">
      <a href="http://hackez.github.io/socket/">
        socket
      </a>
    </h1>

    <span class="post-date">Tue, May 3, 2016</span>

    

<h1 id="socket-study:bd9a9c5f94f2e9bf495cac48092e4447">Socket Study</h1>

<hr />

<h2 id="what-is-socket:bd9a9c5f94f2e9bf495cac48092e4447">What is Socket</h2>

<p>Socket(插座) 作为 UNIX的进程通信机制，一般被通称为</p>

<blockquote>
<p>套接字</p>
</blockquote>

<p>用于描述IP地址和端口，是一个通信链的句柄。</p>

<p>在Internet上的主机一般会运行多个服务软件，同时提供多个服务，每个服务都打开一个Socket，并绑定在一个端口上，不同端口对应不同的服务。</p>

<hr />

<p>正如其英文意思 —— 插座，Socket在不同端口提供着不同的服务，互相之间互不干扰，你只需要将插头插入正确的插座，就可以得到你想要的服务了。</p>

<h2 id="socket通讯过程:bd9a9c5f94f2e9bf495cac48092e4447">Socket通讯过程</h2>

<p>Socket类似于电话插座，电话的通话双方相当于互相通信的2个进程，区号是它的网络地址；区内一个单位的交换机相当于一台主机，主机分配给每个用户的局内号码相当于socket号。</p>

<ul>
<li>任何用户在通话之前，首先要<strong>占有一部</strong>电话机，相当于申请一个socket；</li>
<li>同时还要知道对方的号码，相当于对方有一个固定的的socket地址；</li>
<li>然后向对方拨打电话，相当于发出连接请求<strong>（假如对方不在同一个区内，还要添加区号，相当于给出网络地址）</strong>；</li>
<li>这时候，如果对方在场并且空闲，相当于通信的另一个主机开机且可以接受连接请求；</li>
<li>对方拿起电话，双方就可以正式通话，相当于<strong>连接成功</strong></li>
<li>双方通话的过程，是一方向电话机发出信号和对方电话机接收信号的过程，相当于向socket发送数据以及接收数据；</li>
<li>通话结束后，一方挂起电话相当于关闭socket，撤销连接；</li>
</ul>

<h2 id="socket-协议:bd9a9c5f94f2e9bf495cac48092e4447">Socket 协议</h2>

<p>Socket协议：（协议，本地地址，本地端口）<br />
一个完整的socket有一个本地唯一的socket号，由<strong>操作系统进行分配</strong>
最重要的是，socket是<strong>面向客户/服务器模型</strong>而设计的，针对客户和服务器程序提供不同的socket系统调用：</p>

<ul>
<li>客户可以随机申请一个socket，相当于一个想打电话的人可以在任何一台入网电话上拨号呼叫，系统会为之分配一个socket号；</li>
<li>但是服务器拥有的是全局公认的socket，任何客户都可以向它发出连接请求和信息请求，相当于一个被呼叫的电话拥有一个呼叫方知道的电话号码。</li>
</ul>

<p>Socket利用<strong>客户/服务器模式</strong>巧妙地解决了通信之间建立通信连接的问题，服务器socket半相关被全局公认这一概念非常重要。</p>

<hr />

<p>我们不妨考虑一下，两个<strong>完全随机</strong>的用户进程之间如何建立通信？假如通信双方没有任何一方的固定socket，就好比打电话的双方不知道彼此的电话号码，要通信是<strong>不可能的</strong>。</p>

<h2 id="socket-api:bd9a9c5f94f2e9bf495cac48092e4447">Socket API</h2>

<p>在Java中，Socket API：
&gt; java.net.Socket 继承于 java.lang.Object</p>

<p>它有<strong>八个构造器</strong>，方法并不多，下面介绍频繁使用的三个方法：</p>

<ul>
<li>Accept</li>
</ul>

<p>该方法用于产生“阻塞”，直到接收到一个连接，并且返回一个客户端的socket对象实例。</p>

<blockquote>
<p>阻塞 —— 它使程序运行暂时“停留”在这个地方，直到会话产生，然后程序继续。通常的“阻塞”都是由循环产生的。</p>
</blockquote>

<ul>
<li>getInputStream</li>
</ul>

<p>该方法获得网络连接输入，同时返回一个InputStream实例，通过该实例可以传输byte字节流。</p>

<ul>
<li>getOutStream</li>
</ul>

<p>该方法连接的是另一端得到输入，同时返回一个OnputSteam，该实例可以得到输入传输的byte字节流。</p>

<blockquote>
<p>注意：其中 getInputStream 以及 getOutStream 方法均可能产生一个 IOException，它必须被捕获，通常都会被另一个流对象使用。</p>
</blockquote>

<h2 id="socket连接过程:bd9a9c5f94f2e9bf495cac48092e4447">Socket连接过程</h2>

<p>根据连接启动方式以及本地socket连接的目标，socket之间的连接过程可以分成三个步骤：</p>

<ul>
<li>服务器监听</li>
<li>客户端请求</li>
<li>连接确认</li>
</ul>

<p><strong>服务器监听</strong>：是服务器端的socket并不定位具体的客户端socket，而是处于<strong>等待连接</strong>的状态，实时监控网络状态。</p>

<p><strong>客户端请求</strong>：是指客户端的socket提出连接请求，要连接的目标是服务器端的socket，为此，客户端socket必须要描述清楚它要连接的服务器socket，支出该服务器端socket的<strong>地址</strong>以及<strong>端口</strong>，然后就想服务器socket提出连接请求。</p>

<p><strong>连接确认</strong>：是指当服务器端socket监听到或者说是接收到客户端socekt的连接请求，它就响应客户端socket的请求，建立一个新的进程，把服务器端socket的<strong>描述</strong>发给客户端，一旦客户端<strong>确认了此描述</strong>，连接就建立好了。而服务器端socket继续处于监听状态，继续等待其他客户端socket的连接请求。</p>

<p>Socket UDP &amp;&amp; TCP</p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="http://hackez.github.io/about-me/">
        About Me
      </a>
    </h1>

    <span class="post-date">Sat, Apr 30, 2016</span>

    

<h1 id="about-me:8723697e33f65823610bf3f676b8d742">About Me</h1>

<p>我是朱冠州，以HackerZ的名字混迹于网络中。于1994年8月出生于广东肇庆，迷迷茫茫直至高中开始喜欢上计算机，于是便选择了计算机科学与技术这门学科考上了北京理工大学珠海学院。平常我是一个喜欢拍照/看推理小说/撸代码的一个小小码农。</p>

<p>我的大学生活是从<strong>C语言</strong>开始的，一路上在 <strong>PHP/JAVA/Android/Node/Web</strong> 中迷失了自我，直至我遇上了<strong>Golang</strong>，我喜欢Go的那种优雅/简练的语法，更喜欢在Golang世界中的那种自由，所以我心甘情愿当一个Gopher。</p>

<p>我希望能成为一个能够改善我们身边生活/见证未来科技行业革新的一个<strong>创新者</strong>以及<strong>见证者</strong>。</p>

<h1 id="contact-me:8723697e33f65823610bf3f676b8d742">Contact Me</h1>

<ul>
<li>Email: 767110505@qq.com</li>
<li>Weibo: <a href="http://weibo.com/u/2246744750">HackerZGZ</a></li>
<li>Github: <a href="https://github.com/HackeZ">HackeZ</a></li>
<li>Blog: <a href="http://hackez.github.io">HackerZ</a></li>
</ul>

<h1 id="technology-stack:8723697e33f65823610bf3f676b8d742">Technology stack</h1>

<p>前端</p>

<ul>
<li>HTML/CSS/JavaScript</li>
<li>JQuery</li>
<li>ReactJS</li>
</ul>

<p>后端</p>

<ul>
<li>PHP (ThinkPHP)</li>
<li>NodeJS (Express)</li>
<li>Golang (Beego/Hugo)</li>
</ul>

<p>数据库</p>

<ul>
<li>MySQL</li>
<li>MongoDB</li>
<li>Redis</li>
</ul>

<p>移动端</p>

<ul>
<li>Andorid</li>
</ul>

<p>工具</p>

<ul>
<li>Linux</li>
<li>Git</li>
</ul>

<h1 id="future:8723697e33f65823610bf3f676b8d742">Future</h1>

<p>对于未来，我希望能够在广东找到一份我喜爱的工作，能保持我对新技术和事物的爱好，并投身于Coding的最前线。</p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="http://hackez.github.io/qn-sdkv7-pb/">
        Qiniu Go SDK v7 Problem
      </a>
    </h1>

    <span class="post-date">Fri, Apr 15, 2016</span>

    <p>下载七牛Go SDK v7遇到的问题</p>

<p>今天想要使用七牛的Go SDK时候遇到了肯定会出现的一个情况，那就是</p>

<blockquote>
<p>$ go get -u qiniupkg.com/api.v7</p>
</blockquote>

<p>命令出现了</p>

<blockquote>
<p>golang.org/x/net/context</p>
</blockquote>

<p>不能下载的问题，首先说一下为什么肯定会报错的问题，那就是Go官方将这个包的下载地址更改了（后来翻墙到Go官网发现的），但是不知道为什么go get命令还是将这个包的下载地址设置为原来的那个。
好吧，于是我试着使用七牛提供的方法下载了那个压缩包，并将其解压在</p>

<blockquote>
<p>$GOPATH/src</p>
</blockquote>

<p>目录下，再次运行go get 命令，这时候出现了</p>

<blockquote>
<p>golang.org/x/net/content is not using a known version</p>
</blockquote>

<p>的错误。
无奈之下，只有翻墙出去Go官方网站查看文档了，然后发现Go官方将这个<a href="https://github.com/golang/net">net包</a>放在了Github中，于是我在Github中下载下来这个包，然后在</p>

<blockquote>
<p>$GOPATH/src</p>
</blockquote>

<p>下，也就是Github.com文件夹的平级目录下手动创建了该路径</p>

<blockquote>
<p>&hellip;/golang.org/x</p>
</blockquote>

<p>，然后将net包放进去，再次运行</p>

<blockquote>
<p>$ go get -u qiniupkg.com/api.v7</p>
</blockquote>

<p>OK，成功了，接下来就可以开始愉快地玩耍了:)</p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="http://hackez.github.io/build/">
        本篇将教会你如何使用Hugo快捷地在Github中创建自己的Blog
      </a>
    </h1>

    <span class="post-date">Wed, Apr 13, 2016</span>

    

<h2 id="安装hugo:aba878e576894cc4457876fdf276811e">安装Hugo</h2>

<hr />

<p>Hugo是一个使用Golang语言编写的静态Web站点生成框架，其是由Docker前员工Steve Francia进行编写的，因为其开源在Github里，所以安装非常方便，我们可以选择二进制安装包进行安装。安装完成之后可以运行以下命令查看是否正确安装：</p>

<blockquote>
<p>$ hugo version</p>
</blockquote>

<p>正确安装应该会出现如下信息：</p>

<blockquote>
<p>Hugo Static Site Generator v0.14 BuildDate: 2015-05-26T09:29:16+08:00</p>
</blockquote>

<p>接下来就可以愉快地开始Hugo之旅了。</p>

<h2 id="创建hugo项目:aba878e576894cc4457876fdf276811e">创建Hugo项目</h2>

<hr />

<p>创建Hugo项目可以使用如下命令</p>

<blockquote>
<p>$ hugo new site &lt;site-name&gt;</p>
</blockquote>

<p>这样在该目录下就会出现这个项目文件夹了。
我们 cd 进入该目录，可以看到该目录下有一个名为：</p>

<blockquote>
<p>config.toml</p>
</blockquote>

<p>的文件，根据其名字很容易就知道这个就是Hugo的站点的配置文件了。
该文件中仅仅只有3行代码：</p>

<blockquote>
<p>baseurl = &ldquo;<a href="http://replace-this-with-your-hugo-site.com/&quot;">http://replace-this-with-your-hugo-site.com/&quot;</a>
languageCode = &ldquo;en-us&rdquo;<br />
title = &ldquo;My New Hugo Site&rdquo;</p>
</blockquote>

<p>同样也是根据其单词我们也可以知道他们代表的是什么，我们可以对title进行一下修改，改为我们Blog的名字。</p>

<p>然后我们在该目录下运行命令：</p>

<blockquote>
<p>$ hugo server</p>
</blockquote>

<p>这个命令会将repo转换成静态html文件放入项目的public文件夹下，然后通过访问浏览器的</p>

<blockquote>
<p><a href="http://localhost:1313">http://localhost:1313</a></p>
</blockquote>

<p>地址，即可看到Hugo启动起来了。虽然现在站点是空白一片，但是通过添加Hugo主题，我们可以瞬间建立一个完整Blog站点。</p>

<h2 id="选取hugo主题:aba878e576894cc4457876fdf276811e">选取Hugo主题</h2>

<hr />

<p>我们可以到Hugo官网选取自己喜欢的<a href="http://themes.gohugo.io/">主题</a>
下面我以Hyde主题为例，将该主题应用到自己的Blog中。</p>

<p>首先在站点的根目录下创建一个 themes 文件夹。</p>

<blockquote>
<p>$ mkdir themes<br />
$ cd themes<br />
$ git clone <a href="https://github.com/spf13/hyde.git">https://github.com/spf13/hyde.git</a>  #下载对应主题</p>
</blockquote>

<p>然后，我们需要对根目录下的</p>

<blockquote>
<p>config.toml</p>
</blockquote>

<p>进行配置，以应用下载下来的主题。</p>

<p>配置完成的文件如下所示：</p>

<pre><code class="language-toml">baseurl = &quot;http://replace-this-with-your-hugo-site.com/&quot;
languageCode = &quot;en-us&quot;    
title = &quot;HackerZ - Blog&quot;    
theme = &quot;hyde&quot;   # 指定themes

[params]    
	description = &quot;Welcome to my personal Blog&quot;   # hyde主题的首页描述 
	themeColor = &quot;theme-base-08&quot;  # 指定hyde的主题颜色
</code></pre>

<p>这样，主题就算是配置好了，让我们再次运行</p>

<blockquote>
<p>$ hugo server</p>
</blockquote>

<p>看看效果吧！</p>

<h2 id="新建文章:aba878e576894cc4457876fdf276811e">新建文章</h2>

<hr />

<p>首页以及样式都已经有了，那么下面就来看看怎么新建一篇文章吧。</p>

<p>在站点项目下运行</p>

<blockquote>
<p>$ hugo new welcome.md</p>
</blockquote>

<p>即可看到在项目的content目录下被创建了一个 welcome.md 文件，该文件就是刚才新建出来的文章了。
我们可以往里面写点东西，注意，这是 markdown 格式的，hugo会将其编译成 html 格式放置在 public 目录下。</p>

<blockquote>
<p>welcome.md</p>
</blockquote>

<pre><code>+++    
Categories = [&quot;Development&quot;, &quot;GoLang&quot;]    
Description = &quot;&quot;    
Tags = [&quot;Development&quot;, &quot;golang&quot;]    
date = &quot;2016-03-29T14:38:19+08:00&quot;    
menu = &quot;main&quot;    
title = &quot;Welcome&quot;    

+++

### 
这是使用Hugo创建的站点中的第一篇文章。
</code></pre>

<p>然后启动Hugo服务查看效果吧。</p>

<blockquote>
<p>$ hugo server</p>
</blockquote>

<p>到这里，基本的Hugo使用已经讲解完毕了，接下来就要将该静态站点迁移到我们自己的 github.io 中了。</p>

<h2 id="使用github-pages:aba878e576894cc4457876fdf276811e">使用Github Pages</h2>

<p>要使用 github-pages 首先需要注册属于自己的 github 账号，注册完成之后，创建一个 repository，名为</p>

<blockquote>
<p>&lt;USERNAME&gt;.github.io</p>
</blockquote>

<p>这个是使用 Github Pages 的命名规定，如我自己就是</p>

<blockquote>
<p>HackeZ.github.io</p>
</blockquote>

<p>创建完成之后，在我们已经写好的Hugo站点下修改配置文件中的 baseurl属性：</p>

<blockquote>
<p>config.toml</p>
</blockquote>

<pre><code>baseurl = &quot;http://&amp;lt;USERNAME&gt;.github.io//&quot;
# baseurl = &quot;http://replace-this-with-your-hugo-site.com/&quot;
# 原baseurl可以将其注释掉，之后本地可以进行调试
</code></pre>

<p>保存后，运行如下命令：</p>

<blockquote>
<p>$ hugo -v</p>
</blockquote>

<p>该命令会将配置文件中的参数进行静态文件编译，运行完之后，可以到public下的 index.html 中看看静态文件的地址是否是有误，如果有误，将不能正确地显示出主题样式。</p>

<p>一切正确之后，我们以public目录为 &lt;USERNAME&gt;.github.io 项目的主分支，将其 push 到 github仓库中，等待10分钟左右，访问属于你自己的Blog网站吧！</p>

<blockquote>
<p>http://&lt;USERNAME&gt;.github.io</p>
</blockquote>

<h2 id="配置属于自己的hugo主题:aba878e576894cc4457876fdf276811e">配置属于自己的Hugo主题</h2>

<p>你们可以看到，我已经对原来的Hyde主题进行了修改了，那么是怎么做到的呢，我们可以直接对 themes/hyde 下的配置文件进行修改，增加自己想要的样式，相信聪明的你肯定可以很快熟悉 Hugo 的语法，创建属于自己的主题。</p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="http://hackez.github.io/welcome/">
        Welcome
      </a>
    </h1>

    <span class="post-date">Tue, Mar 29, 2016</span>

    <p>这是使用Hugo创建的站点中的第一篇文章，我是HackerZ。</p>

<p>如果你想知道如何使用Hugo搭建这样一个Blog的话，可以看看<a href="http://hackez.github.io/build">这里</a>。</p>

  </div>
  
</div>
</div>

  </body>
</html>
